<H1 align = "center"> Проект поискового движка SearchEngine</H1>
<div align = "right">* с использованием фреймворка Java Spring</div>

### Описание проекта

Проект представляет собой приложение JAR-файл, запускаемый на любом сервере или компьютере.<BR>
Для работы проекта так же необходима локально установленная база данных MySQL и доступ в глобальную сеть
для наполнения базы данных.

Интерфейс работы приложения представляет собой API интерфейс, которым можно управлять, наполняя базу данных,
просматривая статистику собранных данных, а так же получая результаты поисковой выдачи по запросу.

Поисковая выдача учитывает релевантность результатов, а так же использует библиотеки лемматизаторов, которые
позволяют найти слова в различных формах. В настоящей реализации подключены библиотеки для поиска на **русском** языке.

### Интерфейс и ринцип работы
В конфигурационном файле, перед запуском приложения, задаются адреса сайтов, по которым должен осуществляться поиск.<BR>
Приложение обходит все веб-страницы заданных сайтов и индексирует их, заполняя базу данных словами,
встречающимися на страницах так, чтобы потом находить наиболее релевантные страницы по любому поисковому запросу.

1. На первой DASHBOARD закладке приложения отображается статистика собранной и занесенной в базу данных информации по
каждому сайту.
2. Вторая закладка MANAGEMENT позволяет запускать и останавливать процесс индексации всех сайтов из конфигурационного файла,
а так же производить индексацию отдельных страниц этих сайтов. 
3. Закладка поиска SEARCH реализована с двумя полями. В первом поле - выпадающем списке пользователь может выбрать
сайты, на которых необходимо производить поисковый запрос. Вторая строка - сам поисковый запрос.
Пользователь присылает запрос через API интерфейс. Запрос — это набор слов, по которым нужно найти страницы сайта,
где встречаются **все** эти слова. Результаты поиска ранжируются, сортируются и отдаются пользователю.

### Настройки для запуска
ℹ️ [Пример готового application.yaml](application.yaml) лежит в корне этого проекта.

**Настройки подключения к БД:**

Создайте новую бд `search_engine` и замените логин и пароль в разделе `datasource:` файла конфигурации
`application.yaml` на ваши (которые вы вводили при установке MySQL).
```yaml
spring:
  datasource:
    username: root # имя пользователя
    password: Kimk7FjT # пароль пользователя
```

Вы так же можете создать в вашей среде работы MySQL отдельного пользователя для доступа только к этой базе данных
и указать в конфигурации его данные.

**Настройки индексации:**

внесите в раздел `sites:` файла конфигурации `application.yaml` сайты, на которых хотите производить поиск.
indexing-settings:
```yaml
indexing-settings:
  sites:
    - url: https://nikoartgallery.com/
      name: Арт галерея Нико Никогосяна
```

❗️url сайтов должен быть указан полностью `https://nikoartgallery.com/` с протоколом и закрывающим слешем. Адреса
сайтов на кириллице не принимаются.

Названия сайтов в файле конфигурации могут быть любыми, на ваше усмотрение, но старайтесь использовать названия,
отвечающие контексту сайтов.

После этого, можете запустить программу из командной строки 

`java -jar SearchEngine.jar`.

Если введены правильные данные, проект успешно запустится. Если запуск
заканчивается ошибками, изучите текст ошибок, внесите исправления и попробуйте заново.
Для начала работы с программой используйте любой браузер, введя в строке адреса:

`http://localhost:8080`

### Реализация, особенности и структура проекта 
Приложение построено по простой слоистой структуре в три слоя:

* **Presentation** - контроллеры. слой общается с пользователями, ожидает запросы по API. И отдает ответы.
* **Business** - бизнес логика, содержится в классах Сервисах и Компонентах.
* **Data Access** - слой отвечает за хранение данных, подключение к БД, реализацию запросов - это классы Репозитории.

Каждый слой занимается только своими задачами.
Если посмотреть слои данного приложения, то увидим не только сами классы, но еще и интерфейсы между ними.
Интерфейсы выполнены, чтобы слои приложения не зависели от реализаций классов. Сервисы и контроллеры могут меняться
независимо, заменяться и это не будет влиять на другие слои.

Также это относится и к передаваемым данным, у каждого слоя своя структура для хранения данных. Репозитории
отдают классы сущности, а сервисы упаковывают данные в нужные объекты, для того чтобы конечный потребитель данных
не зависел напрямую от структуры данных в БД. БД может измениться, поменять структуру таблиц - и это должно
произойти максимально незаметно для других слоев.# search-engine
